[{"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\index.js":"1","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\App.js":"2","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\Attendence.js":"3","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\MainNavigation.js":"4","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\AllStudent.page.jsx":"5","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\MainHeader.js":"6","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\SideDrawer.js":"7","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\NavLinks.js":"8","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\models\\student.js":"9","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Backdrop.js":"10","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Card.js":"11","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\components\\StudentsList.js":"12","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\Button.js":"13","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\Input.js":"14","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\form-hook.js":"15","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\util\\validators.js":"16","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\context\\auth-context.js":"17","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\components\\StudentItem.js":"18","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Avatar.js":"19","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\Student.page.jsx":"20","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\faculty\\pages\\Faculty.page.jsx":"21","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\models\\faculty.js":"22","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\auth\\pages\\AuthLogin.page.jsx":"23","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\auth\\pages\\AuthSignup.page.jsx":"24","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\AddNewStudent.page.jsx":"25","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\http-hook.js":"26","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\ErrorModal.js":"27","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\LoadingSpinner.js":"28","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Modal.js":"29","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\MarkAttendence.js":"30","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\UpdateStudent.jsx":"31","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\faculty\\pages\\UpdateFaculty.jsx":"32","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\CheckboxInput.js":"33","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\auth-hook.js":"34","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\ImageUpload.js":"35","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\components\\AttendenceItem.js":"36","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\components\\ExportCSV.js":"37"},{"size":168,"mtime":1609051885294,"results":"38","hashOfConfig":"39"},{"size":2765,"mtime":1613114798545,"results":"40","hashOfConfig":"39"},{"size":3148,"mtime":1609405264696,"results":"41","hashOfConfig":"39"},{"size":1266,"mtime":1609061788175,"results":"42","hashOfConfig":"39"},{"size":1388,"mtime":1609405414626,"results":"43","hashOfConfig":"39"},{"size":185,"mtime":1609060693848,"results":"44","hashOfConfig":"39"},{"size":560,"mtime":1609060693864,"results":"45","hashOfConfig":"39"},{"size":1448,"mtime":1613116071072,"results":"46","hashOfConfig":"39"},{"size":946,"mtime":1609161009668,"results":"47","hashOfConfig":"39"},{"size":289,"mtime":1609058704023,"results":"48","hashOfConfig":"39"},{"size":217,"mtime":1609058704040,"results":"49","hashOfConfig":"39"},{"size":824,"mtime":1609343418161,"results":"50","hashOfConfig":"39"},{"size":1017,"mtime":1609064514010,"results":"51","hashOfConfig":"39"},{"size":1844,"mtime":1609064514041,"results":"52","hashOfConfig":"39"},{"size":1448,"mtime":1609071724175,"results":"53","hashOfConfig":"39"},{"size":1664,"mtime":1609071729774,"results":"54","hashOfConfig":"39"},{"size":200,"mtime":1609406547871,"results":"55","hashOfConfig":"39"},{"size":4961,"mtime":1613294650579,"results":"56","hashOfConfig":"39"},{"size":332,"mtime":1609058704004,"results":"57","hashOfConfig":"39"},{"size":2357,"mtime":1609405403761,"results":"58","hashOfConfig":"39"},{"size":3923,"mtime":1612958182123,"results":"59","hashOfConfig":"39"},{"size":522,"mtime":1609065383030,"results":"60","hashOfConfig":"39"},{"size":3653,"mtime":1609412446530,"results":"61","hashOfConfig":"39"},{"size":4259,"mtime":1609405517862,"results":"62","hashOfConfig":"39"},{"size":3829,"mtime":1609413752021,"results":"63","hashOfConfig":"39"},{"size":1374,"mtime":1609075541184,"results":"64","hashOfConfig":"39"},{"size":390,"mtime":1609058704047,"results":"65","hashOfConfig":"39"},{"size":273,"mtime":1609058704092,"results":"66","hashOfConfig":"39"},{"size":1238,"mtime":1609058704144,"results":"67","hashOfConfig":"39"},{"size":6384,"mtime":1613324811476,"results":"68","hashOfConfig":"39"},{"size":4430,"mtime":1609405382847,"results":"69","hashOfConfig":"39"},{"size":4321,"mtime":1609405549324,"results":"70","hashOfConfig":"39"},{"size":907,"mtime":1609228804053,"results":"71","hashOfConfig":"39"},{"size":1958,"mtime":1609406483900,"results":"72","hashOfConfig":"39"},{"size":3014,"mtime":1609341402807,"results":"73","hashOfConfig":"39"},{"size":1585,"mtime":1609405780394,"results":"74","hashOfConfig":"39"},{"size":981,"mtime":1613323509251,"results":"75","hashOfConfig":"39"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},"xpftmq",{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"114"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"78"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"78"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156","usedDeprecatedRules":"78"},"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\index.js",[],["157","158"],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\App.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\Attendence.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\MainNavigation.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\AllStudent.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\MainHeader.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\SideDrawer.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\Navigation\\NavLinks.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\models\\student.js",[],["159","160"],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Backdrop.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Card.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\components\\StudentsList.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\Button.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\Input.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\form-hook.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\util\\validators.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\context\\auth-context.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\components\\StudentItem.js",[],["161","162"],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Avatar.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\Student.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\faculty\\pages\\Faculty.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\models\\faculty.js",[],["163","164"],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\auth\\pages\\AuthLogin.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\auth\\pages\\AuthSignup.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\AddNewStudent.page.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\http-hook.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\ErrorModal.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\LoadingSpinner.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\Modal.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\MarkAttendence.js",["165","166","167"],"import React, { useEffect, useRef, useState } from \"react\";\r\nimport * as faceapi from \"face-api.js\";\r\nimport openSocket from \"socket.io-client\";\r\nimport \"./MarkAttendence.style.css\";\r\nimport Button from \"../components/FormElements/Button\";\r\n\r\nimport { ExportCSV } from \"./components/ExportCSV\";\r\n\r\nimport { useHttpClient } from \"../hooks/http-hook\";\r\nconst MarkAttendence = () => {\r\n  const attendence = [];\r\n  const viewers = [];\r\n  let finalAttendence;\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [initializing, setInitializing] = useState(false);\r\n  const [descriptor, setDescriptor] = useState();\r\n  const [students, setStudents] = useState();\r\n  const videoWidth = 720;\r\n  const videoHeight = 480;\r\n\r\n  const imgRef = useRef();\r\n  const canvasRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const socket = openSocket(\"http://localhost:5000\");\r\n    const fetchAttendenceScreen = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          \"http://localhost:5000/api/attendence/mark-attendence\"\r\n        );\r\n        console.log(data);\r\n        const content = data.content;\r\n        for (var x = 0; x < Object.keys(content.parent).length; x++) {\r\n          for (\r\n            var y = 0;\r\n            y < Object.keys(content.parent[x].descriptors).length;\r\n            y++\r\n          ) {\r\n            var results = Object.values(content.parent[x].descriptors[y]);\r\n            content.parent[x].descriptors[y] = new Float32Array(results);\r\n          }\r\n        }\r\n        setDescriptor(content);\r\n        setStudents(data.students);\r\n        socket.on(\"image\", (data) => {\r\n          if (imgRef.current) {\r\n            imgRef.current.src = `data:image/jpeg;base64,${data}`;\r\n          }\r\n        });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    const loadModels = async () => {\r\n      const MODEL_URL = process.env.PUBLIC_URL + \"/weights\";\r\n      setInitializing(true);\r\n      Promise.all([\r\n        faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL),\r\n        faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL),\r\n      ]).then(fetchAttendenceScreen);\r\n    };\r\n    loadModels();\r\n  }, [sendRequest]);\r\n  // const loadLabels = async () => {\r\n  //   console.log(descriptor);\r\n  //   // for (var key in descriptor) {\r\n  //   //   if (descriptor.hasOwnProperty(key)) {\r\n  //   //     var val = descriptor[key];\r\n  //   //     console.log(val);\r\n  //   //   }\r\n  //   // }\r\n  //   descriptor.studentLabel.map(async (label) => {\r\n  //     console.log(label);\r\n  //     return new faceapi.LabeledFaceDescriptors(label,)\r\n  //   });\r\n  // };\r\n  async function createFaceMatcher(data) {\r\n    const labeledFaceDescriptors = await Promise.all(\r\n      data.parent.map((className) => {\r\n        console.log(className);\r\n        const descriptors = [];\r\n        for (var i = 0; i < className.descriptors.length; i++) {\r\n          descriptors.push(new Float32Array(className.descriptors[i]));\r\n        }\r\n        return new faceapi.LabeledFaceDescriptors(className.label, descriptors);\r\n      })\r\n    );\r\n    console.log(labeledFaceDescriptors);\r\n    return new faceapi.FaceMatcher(labeledFaceDescriptors, 0.59);\r\n  }\r\n\r\n  const handleVideoOnPlay = async () => {\r\n    const faceMatcher = await createFaceMatcher(descriptor);\r\n    console.log(faceMatcher);\r\n    setTimeout(() => {\r\n      clearInterval(interval);\r\n      let i = 0;\r\n      console.log(i++);\r\n      finalAttendence = mark();\r\n\r\n      console.log(finalAttendence);\r\n      // finalAttendence.forEach((val) => {\r\n      //   console.log(val);\r\n      //   if (val !== \"unknown\") {\r\n      //     viewers.push({ id: val, present: \"p\" });\r\n      //   }\r\n      // });\r\n\r\n      students.forEach((s) => {\r\n        console.log(finalAttendence.has(s.id));\r\n        if (finalAttendence.has(s.id)) {\r\n          viewers.push({ id: s.id, name: s.name, present: \"P\" });\r\n        } else {\r\n          viewers.push({ id: s.id, name: s.name, present: \"A\" });\r\n        }\r\n      });\r\n      console.log(viewers);\r\n    }, 15000);\r\n    const interval = setInterval(async () => {\r\n      if (initializing) {\r\n        setInitializing(false);\r\n      }\r\n      canvasRef.current.innerHTML = faceapi.createCanvasFromMedia(\r\n        imgRef.current\r\n      );\r\n      const displySize = {\r\n        width: videoWidth,\r\n        height: videoHeight,\r\n      };\r\n      const detections = await faceapi\r\n        .detectAllFaces(imgRef.current, new faceapi.TinyFaceDetectorOptions())\r\n        .withFaceLandmarks()\r\n        .withFaceDescriptors();\r\n      const resizedDetections = faceapi.resizeResults(detections, displySize);\r\n      if (canvasRef.current) {\r\n        faceapi.matchDimensions(canvasRef.current, displySize);\r\n        canvasRef.current\r\n          .getContext(\"2d\")\r\n          .clearRect(0, 0, videoWidth, videoHeight);\r\n      }\r\n      // faceapi.draw.drawDetections(canvasRef.current, resizedDetections);\r\n      const results = resizedDetections.map((d) => {\r\n        return faceMatcher.findBestMatch(d.descriptor);\r\n      });\r\n      console.log(results);\r\n      results.forEach((result, i) => {\r\n        const box = resizedDetections[i].detection.box;\r\n        const drawBox = new faceapi.draw.DrawBox(box, {\r\n          label: result.toString(),\r\n        });\r\n        // if (!attendence.find(result.toString().split(\" \")[0])) {\r\n        attendence.push(result.toString().split(\" \")[0]);\r\n        // }\r\n        drawBox.draw(canvasRef.current);\r\n      });\r\n\r\n      markAttendence();\r\n    }, 1000 / 30);\r\n  };\r\n\r\n  function mark() {\r\n    return new Set(attendence.map((a) => a));\r\n  }\r\n  const fileName = Date.now();\r\n\r\n  const markAttendence = () => {\r\n    const videoBox = document.getElementsByClassName(\"name-box\");\r\n\r\n    videoBox.display = \"block\";\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"center video-box\">\r\n        <img\r\n          ref={imgRef}\r\n          alt=\"Loading\"\r\n          width={videoWidth}\r\n          height={videoHeight}\r\n        />\r\n        <canvas ref={canvasRef} />\r\n      </div>\r\n      {/* <div className=\"center name-box\">\r\n        <h1>Name:Nitin</h1>\r\n      </div> */}\r\n      <ExportCSV csvData={viewers} fileName={fileName} />\r\n      <Button onClick={handleVideoOnPlay}>Mark Attendence</Button>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default MarkAttendence;\r\n","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\student\\pages\\UpdateStudent.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\faculty\\pages\\UpdateFaculty.jsx",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\UIElements\\CheckboxInput.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\hooks\\auth-hook.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\components\\FormElements\\ImageUpload.js",[],"C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\components\\AttendenceItem.js",["168"],"import React, { useEffect, useState } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport Card from \"../../components/UIElements/Card\";\r\nimport \"./AttendenceItem.css\";\r\nconst AttendenceItem = (props) => {\r\n  const [chartData, setChartData] = useState({});\r\n\r\n  const labels = [];\r\n  const data = [];\r\n  props.attendence.subjects.forEach((s) => {\r\n    labels.push(s.subName);\r\n    data.push(s.present);\r\n  });\r\n  useEffect(() => {\r\n    const setting = () => {\r\n      setChartData({\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: \"Attendence\",\r\n            data: data,\r\n            backgroundColor: \"rgba(54, 162, 235, 0.2)\",\r\n            borderColor: \"rgba(54, 162, 235, 1)\",\r\n            borderWidth: 4,\r\n          },\r\n        ],\r\n      });\r\n    };\r\n    setting();\r\n  }, []);\r\n  if (props.attendence.length === 0) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Card>\r\n          <h2>Not any attendence updated yet</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card className=\"chart center\">\r\n        <Bar\r\n          data={chartData}\r\n          options={{\r\n            maintainAspectRatio: false,\r\n            title: { display: true, text: \"Attendence\", fontSize: 25 },\r\n            scales: {\r\n              yAxes: [\r\n                {\r\n                  ticks: {\r\n                    beginAtZero: true,\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n          }}\r\n        />\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default AttendenceItem;\r\n","C:\\Nitin\\Smart Attendence System\\SAS- frontend\\src\\shared\\attendence\\components\\ExportCSV.js",["169"],"import React, { useContext } from \"react\";\r\n\r\nimport * as FileSaver from \"file-saver\";\r\n\r\nimport * as XLSX from \"xlsx\";\r\nimport Button from \"../../components/FormElements/Button\";\r\nimport { AuthContext } from \"../../context/auth-context\";\r\n\r\nexport const ExportCSV = ({ csvData, fileName }) => {\r\n  const auth = useContext(AuthContext);\r\n  const fileType =\r\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\r\n\r\n  const fileExtension = \".xlsx\";\r\n\r\n  const exportToCSV = (csvData, fileName) => {\r\n    const ws = XLSX.utils.json_to_sheet(csvData);\r\n\r\n    const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\r\n\r\n    const excelBuffer = XLSX.write(wb, { bookType: \"xlsx\", type: \"array\" });\r\n\r\n    const data = new Blob([excelBuffer], { type: fileType });\r\n\r\n    FileSaver.saveAs(data, fileName + fileExtension);\r\n    // auth.logout();\r\n  };\r\n\r\n  return (\r\n    <Button onClick={(e) => exportToCSV(csvData, fileName)}>Export</Button>\r\n  );\r\n};\r\n",{"ruleId":"170","replacedBy":"171"},{"ruleId":"172","replacedBy":"173"},{"ruleId":"170","replacedBy":"174"},{"ruleId":"172","replacedBy":"175"},{"ruleId":"170","replacedBy":"176"},{"ruleId":"172","replacedBy":"177"},{"ruleId":"170","replacedBy":"178"},{"ruleId":"172","replacedBy":"179"},{"ruleId":"180","severity":1,"message":"181","line":14,"column":11,"nodeType":"182","messageId":"183","endLine":14,"endColumn":20},{"ruleId":"180","severity":1,"message":"184","line":14,"column":22,"nodeType":"182","messageId":"183","endLine":14,"endColumn":27},{"ruleId":"180","severity":1,"message":"185","line":14,"column":42,"nodeType":"182","messageId":"183","endLine":14,"endColumn":52},{"ruleId":"186","severity":1,"message":"187","line":30,"column":6,"nodeType":"188","endLine":30,"endColumn":8,"suggestions":"189"},{"ruleId":"180","severity":1,"message":"190","line":10,"column":9,"nodeType":"182","messageId":"183","endLine":10,"endColumn":13},"no-native-reassign",["191"],"no-negated-in-lhs",["192"],["191"],["192"],["191"],["192"],["191"],["192"],"no-unused-vars","'isLoading' is assigned a value but never used.","Identifier","unusedVar","'error' is assigned a value but never used.","'clearError' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'data' and 'labels'. Either include them or remove the dependency array.","ArrayExpression",["193"],"'auth' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"194","fix":"195"},"Update the dependencies array to be: [data, labels]",{"range":"196","text":"197"},[813,815],"[data, labels]"]